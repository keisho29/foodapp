# ADR-005: 画面構成（一覧・登録・編集・エラー分離）の決定

## Status
Accepted

## Context
本アプリでは、ユーザーが複数の食材を入力し、その摂取量に応じてPFC・カロリーを計算・管理する機能を提供する。

機能の複雑化やUI/UXの観点から、すべての処理を1ページに詰め込むのではなく、画面ごとに役割を明確に分けることが望ましい。

## Decision
以下の4つの画面に役割を分離することを決定：

1. **一覧ページ（list.html）**
   - 登録済みの食材とそのPFC/カロリーを一覧表示
   - 計算フォームも同一画面に設置し、合計値の即時表示に対応

2. **登録ページ（create.html）**
   - 新規食材の登録フォームを表示
   - フォーム送信でDTO経由のバリデーションと保存処理を実施

3. **編集ページ（edit.html）**
   - 食材情報を既存の内容で編集可能にする
   - ID指定でデータ取得、DTOで更新

4. **エラー画面（error.html）**
   - バリデーションエラーや予期しない例外発生時に遷移
   - コントローラアドバイス（@ControllerAdvice）で制御

## Consequences

### Positive
- 各画面の責務が明確になり、ユーザーにとっての操作性が向上
- テンプレートやコントローラの役割も分離でき、保守しやすい
- バリデーション失敗や例外時のハンドリングが直感的になる
- Post/Redirect/Get（PRG）パターンにも対応しやすい構成

### Negative
- 画面ごとにテンプレートファイル・コントローラメソッドが増える
- ページ遷移が発生するため、シングルページ構成よりレスポンスは遅くなる場合がある
- 軽量な構成に比べてやや実装コストが増える
